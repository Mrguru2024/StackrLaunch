<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- ABSOLUTELY NUKE VITE HMR WITH EVERY METHOD AVAILABLE -->
    
    <!-- SERVICE WORKER TO BLOCK ALL WEBSOCKET CONNECTIONS AT NETWORK LEVEL -->
    <script>
      // Register a service worker to intercept WebSocket connections
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/vite-ws-blocker-sw.js', {scope: '/'})
            .then(registration => {
              console.log('SW registered for blocking WebSockets');
            })
            .catch(error => {
              console.log('SW registration failed:', error);
            });
        });
      }
    </script>
    
    <!-- FIRST LINE OF DEFENSE - CLIENT BYPASS -->
    <script src="/complete-vite-bypass.js"></script>
    
    <!-- LAST RESORT - VISUAL HIDING OF ANY ERROR MESSAGES -->
    <style>
      /* Hide any Vite-related error messages if they do appear */
      .hmr-error-overlay,
      .vite-error-overlay,
      [data-vite-dev-overlay],
      .__vite-error-overlay,
      #vite-error-overlay,
      [id^='vite-'],
      [class^='vite-'] {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        z-index: -9999 !important;
        pointer-events: none !important;
        position: fixed !important;
        top: -9999px !important;
        left: -9999px !important;
        height: 0 !important;
        width: 0 !important;
        overflow: hidden !important;
      }
    </style>
    
    <!-- TRAP ALL CONSOLE OUTPUT RELATED TO VITE -->
    <script>
      (function() {
        // Completely neuter the console for all Vite-related messages
        ['log', 'error', 'warn', 'info', 'debug'].forEach(method => {
          const original = console[method];
          console[method] = function(...args) {
            // Check all arguments for Vite-related terms
            const isViteRelated = args.some(arg => 
              typeof arg === 'string' && (
                arg.includes('[vite]') ||
                arg.includes('vite') ||
                arg.includes('hmr') ||
                arg.includes('WebSocket') ||
                arg.includes('ws://') ||
                arg.includes('wss://')
              )
            );
            
            if (!isViteRelated) {
              return original.apply(this, args);
            }
          };
        });
        
        // Override window.error and window.unhandledrejection
        window.onerror = function(message, source, lineno, colno, error) {
          if (message && (
              String(message).includes('WebSocket') ||
              String(message).includes('vite') ||
              String(message).includes('hmr')
          )) {
            return true; // Prevent default error handling
          }
        };
        
        // Block ALL unhandled promise rejections
        window.addEventListener('unhandledrejection', function(event) {
          // Always prevent unhandled promise rejection events
          event.preventDefault();
          event.stopPropagation();
          return false;
        }, true);
      })();
    </script>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VHVMZHY9MS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-VHVMZHY9MS');
    </script>
    
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5" />
    <!-- Remove CSP to eliminate potential WebSocket connection issues -->
    <!--
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; connect-src 'self' https://*.google-analytics.com https://*.analytics.google.com https://*.googletagmanager.com; script-src 'self' 'unsafe-inline' https://*.googletagmanager.com https://www.google-analytics.com https://ssl.google-analytics.com;" />
    -->
    
    <!-- Primary Meta Tags -->
    <title>Stackr | AI Financial Automation for Tradespeople, Side Hustlers & 9-5 Rebuilders</title>
    <meta name="description" content="Save $650/year & 5+ hours monthly with Stackr's AI financial automation built specifically for tradespeople, side hustlers, freelancers, and 9-5 rebuilders. Automate income, eliminate hidden fees, and grow your wealth." />
    <meta name="keywords" content="financial automation, money management app, side hustle finance, tradesperson budgeting, income automation, AI financial assistant, variable income management, freelancer finances, contractor money management, hidden fee detection, subscription tracker, financial growth, wealth building, budget automation, self-employed finances, financial planning, Atlanta fintech" />
    
    <!-- Indexing and Crawling Control -->
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://stackr.tech" />
    
    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://stackr.tech" />
    <meta property="og:title" content="Stackr | Smart Money Management for Tradespeople & Side Hustlers" />
    <meta property="og:description" content="AI-powered financial automation that saves you $650/year & 5+ hours monthly. Built for variable incomes, freelancers, and contractors. Join 131+ early adopters!" />
    <meta property="og:image" content="https://stackr.tech/og-image.jpg" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="Stackr Financial" />
    
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://stackr.tech" />
    <meta name="twitter:title" content="Stackr | Financial Automation for Variable Incomes" />
    <meta name="twitter:description" content="Smart money management that actually works for tradespeople, side hustlers, and people with variable income. Save time & money automatically." />
    <meta name="twitter:image" content="https://stackr.tech/twitter-image.jpg" />
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’°</text></svg>" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    
    <!-- Security Headers -->
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <!-- Structured Data - Organization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Stackr Financial",
      "url": "https://stackr.tech",
      "logo": "https://stackr.tech/logo.png",
      "description": "AI-powered financial automation for tradespeople, side hustlers, and 9-5 rebuilders",
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "customer support",
        "email": "support@stackr.tech"
      },
      "sameAs": [
        "https://twitter.com/stackrfinancial",
        "https://www.linkedin.com/company/stackr-financial",
        "https://www.instagram.com/stackrfinancial"
      ]
    }
    </script>
    
    <!-- Structured Data - WebSite -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "url": "https://stackr.tech",
      "name": "Stackr Financial Automation",
      "description": "AI-powered financial automation for people with variable incomes",
      "potentialAction": {
        "@type": "Action",
        "target": "https://stackr.tech/#waitlist",
        "name": "Join Waitlist"
      }
    }
    </script>
    
    <!-- Google Fonts with Display Swap for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" as="image" href="/src/assets/stackr-logo.svg" type="image/svg+xml" />
    <link rel="preload" as="image" href="/src/assets/stackr-logo.png" type="image/png" />
    
    <!-- Tally.so Form Widget -->
    <script async src="https://tally.so/widgets/embed.js"></script>
    
    <!-- Improved SEO with Meta Description targeting different personas -->
    <meta name="subject" content="Financial Automation Platform">
    <meta name="classification" content="Business, Finance, Technology">
    <meta name="language" content="EN">
    <meta name="author" content="Stackr Financial, Inc.">
    <meta name="designer" content="Stackr Team">
    <meta name="copyright" content="Â© 2025 Stackr Financial, Inc.">
    <meta name="owner" content="Stackr Financial, Inc.">
    <meta name="topic" content="Financial automation for tradespeople, side hustlers, and 9-5 rebuilders">
    <meta name="coverage" content="Worldwide">
    <meta name="distribution" content="Global">
  </head>
  <body>
    <div id="root"></div>
    <!-- No HMR needed, removed WebSocket workaround -->
    
    <script type="module" src="/src/main.tsx"></script>
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>
